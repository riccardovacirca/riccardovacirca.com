<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
    <meta name="description" content="Grapheme project details">
    <meta name="author" content="Riccardo Vacirca">
    <title>Grapheme - riccardo vacirca</title>
    <style>body{font-family:Helvetica,Arial,sans-serif;}h1,h2,h3,h4,h5,h6{margin:0;}h4{font-size:22px;}h6{font-size:16px;}pre{background-color:#efefef;overflow-x:auto;padding:10px;}.card{border:1px solid #efefef;}th{text-align:left;}hr{border:1px solid #eee;}a{color:#066;}code{color:mediumvioletred;}pre code{color:#333;line-height: 1.5;}</style>
    <!-- -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/themes/prism.min.css" rel="stylesheet">
    <!-- -->
    <style>
    body{margin:0;border-top:4px solid #17a2b8;position:relative;}
    .logo{color:#777}.title{color:#444;}.sub-title{color:#17a2b8;}main,footer{margin:0 auto;max-width:770px;}main,code{font-size:16px;}#main{padding-top:30px;}.font-anton{font-family:'Anton',sans-serif;}#db-diagram{max-width:678px;max-height:391px;width:100%;}td,th{font-size:14px;font-family:monospace,'Courier New',Courier;border-top:1px solid #ccc;}.card-body{padding:5px;}td{vertical-align:top;}
    .header-container{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;}
    .header-text{flex:1;}
    .header-avatar{flex-shrink:0;margin-left:20px;}
    .avatar-img{width:64px;height:64px;border-radius:50%;border:2px solid #17a2b8;display:none;}
    .project-info{margin-bottom:20px;}
    .detail-section{margin-bottom:15px;}
    .site-menu{text-align:center;margin:20px 0;padding:10px 0;border-top:1px solid #eee;border-bottom:1px solid #eee;}
    .menu-item{color:#17a2b8;text-decoration:none;margin:0 20px;font-weight:500;}
    .menu-item:hover{color:#066;text-decoration:none;}
    footer a{color:#17a2b8;text-decoration:none;margin:0 2px;}
    footer a:hover{color:#066;text-decoration:none;}
    </style>
</head>
<body><main><div id="main" class="container">
<!----------------------------------------------------------------------------->
<div class="header-container">
  <div class="header-text">
    <h4 class="display-5 font-anton logo">riccardo vacirca</h4>
    <h1 class="display-5 font-anton logo">personal website / projects</h1>
  </div>
  <div class="header-avatar">
    <img id="user-avatar" src="" alt="Profile Avatar" class="avatar-img">
  </div>
</div>

<nav class="site-menu">
  <a href="../" class="menu-item">home</a>
  <a href="../projects/" class="menu-item">projects</a>
  <!-- a href="../articles/" class="menu-item">articles</a -->
  <a href="../contacts/" class="menu-item">contacts</a>
</nav>
<!----------------------------------------------------------------------------->

<div id="project-content">
    <div class="project-info">
        <h3>Loading project information...</h3>
    </div>
    
    <div id="project-details"></div>
    
    <div id="readme-content" class="detail-section">
        <h4>README</h4>
        <div id="readme-text">Loading README...</div>
    </div>
    
    <div id="commits-info" class="detail-section">
        <h4>Recent Commits</h4>
        <div id="commits-list">Loading commits...</div>
    </div>
    
    <div id="contributors-info" class="detail-section">
        <h4>Contributors</h4>
        <div id="contributors-list">Loading contributors...</div>
    </div>
</div>

<!----------------------------------------------------------------------------->
</div>
</main>
<footer><div class="container">
<!----------------------------------------------------------------------------->
<hr>
<p class="mb-3 text-muted">
    &copy; 2020-2025 Riccardo Vacirca
    <a href="https://www.linkedin.com/in/riccardovacirca"><i class="fa fa-linkedin-square"></i></a>
    <a href="https://github.com/riccardovacirca"><i class="fa fa-git-square"></i></a><br>
    <small>All right reserved</small>
</p>
<!----------------------------------------------------------------------------->
</div></footer>
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/components/prism-python.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.20.0/axios.min.js" integrity="sha512-quHCp3WbBNkwLfYUMd+KwBAgpVukJu5MncuQaWXgCrfgcxCJAq/fo+oqrRKOj+UKEmyMCG3tb8RB63W+EmrOBg==" crossorigin="anonymous"></script>
<script>
// Static fallback project data
const fallbackProjectData = {
  name: "grapheme",
  description: "Graph database implementation with advanced query capabilities",
  language: "Python",
  created_at: "2022-03-20T15:20:00Z",
  updated_at: "2023-11-25T10:15:00Z",
  size: 4200,
  stargazers_count: 28,
  forks_count: 5,
  open_issues_count: 2,
  license: { name: "Apache-2.0" },
  html_url: "https://github.com/riccardovacirca/grapheme",
  homepage: null
};

// Static fallback README content
const fallbackReadmeContent = `# Grapheme - Graph Database

A high-performance graph database implementation with advanced query capabilities and efficient storage.

## Features

- **Fast Graph Traversal**: Optimized algorithms for complex graph queries
- **ACID Transactions**: Full transaction support with isolation levels
- **Flexible Schema**: Schema-less design with optional constraints
- **Query Language**: SQL-like query language for graph operations
- **High Availability**: Built-in replication and clustering support

## Quick Start

\`\`\`python
from grapheme import GraphDB

# Initialize database
db = GraphDB("my_graph.db")

# Create nodes
alice = db.create_node("Person", {"name": "Alice", "age": 30})
bob = db.create_node("Person", {"name": "Bob", "age": 25})

# Create relationship
db.create_edge(alice, "KNOWS", bob, {"since": "2020"})

# Query the graph
result = db.query("MATCH (a:Person)-[r:KNOWS]->(b:Person) RETURN a.name, b.name")
print(result)
\`\`\`

## Installation

\`\`\`bash
pip install grapheme-db
\`\`\`

## Performance

Grapheme is designed for high-performance operations:

- **Node Creation**: 100K+ nodes/second
- **Edge Creation**: 50K+ edges/second  
- **Complex Queries**: Sub-millisecond response times
- **Memory Efficient**: Optimized storage with compression

## Documentation

Full documentation is available at: https://grapheme-db.readthedocs.io

## Contributing

We welcome contributions! Please read our contributing guidelines and submit pull requests.

## License

Apache 2.0 License - see LICENSE file for details.`;

// Static fallback commits data
const fallbackCommitsData = [
  {
    commit: {
      message: "Add support for graph algorithms (shortest path, PageRank)",
      author: { name: "Riccardo Vacirca", date: "2023-11-25T10:15:00Z" }
    }
  },
  {
    commit: {
      message: "Optimize memory usage in large graph operations",
      author: { name: "Riccardo Vacirca", date: "2023-11-22T14:30:00Z" }
    }
  },
  {
    commit: {
      message: "Implement transaction rollback mechanism",
      author: { name: "Riccardo Vacirca", date: "2023-11-18T09:45:00Z" }
    }
  },
  {
    commit: {
      message: "Add comprehensive test suite for query engine",
      author: { name: "Riccardo Vacirca", date: "2023-11-15T16:20:00Z" }
    }
  },
  {
    commit: {
      message: "Refactor storage engine for better performance",
      author: { name: "Riccardo Vacirca", date: "2023-11-10T11:55:00Z" }
    }
  }
];

// Static fallback contributors data
const fallbackContributorsData = [
  {
    login: "riccardovacirca",
    avatar_url: "https://avatars.githubusercontent.com/u/12345678?v=4",
    html_url: "https://github.com/riccardovacirca",
    contributions: 156
  },
  {
    login: "contributor2",
    avatar_url: "https://avatars.githubusercontent.com/u/87654321?v=4",
    html_url: "https://github.com/contributor2",
    contributions: 23
  }
];

// Function to display project data
function displayProjectInfo(data, isLiveData = false) {
  const statusText = isLiveData ? '' : '<small class="text-muted">Using cached data due to API limits</small><br><br>';
  document.querySelector('.project-info').innerHTML = statusText + `
    <h3>${data.name}</h3>
    <p>${data.description}</p>
    <div class="row">
      <div class="col-md-6">
        <strong>Language:</strong> ${data.language}<br>
        <strong>Created:</strong> ${new Date(data.created_at).toLocaleDateString()}<br>
        <strong>Last Updated:</strong> ${new Date(data.updated_at).toLocaleDateString()}<br>
        <strong>Size:</strong> ${data.size} KB
      </div>
      <div class="col-md-6">
        <strong>Stars:</strong> ${data.stargazers_count}<br>
        <strong>Forks:</strong> ${data.forks_count}<br>
        <strong>Open Issues:</strong> ${data.open_issues_count}<br>
        <strong>License:</strong> ${data.license.name}
      </div>
    </div>
    <div class="mt-3">
      <a href="${data.html_url}" class="btn btn-info" target="_blank">
        <i class="fa fa-github"></i> View on GitHub
      </a>
      ${data.homepage ? `<a href="${data.homepage}" class="btn btn-outline-info ml-2" target="_blank"><i class="fa fa-external-link"></i> Project Homepage</a>` : ''}
    </div>
  `;
}

// Try to fetch project data from GitHub API, fallback to static data
axios({
  method: "get",
  url: "https://api.github.com/repos/riccardovacirca/grapheme",
  headers: {"Accept": "application/vnd.github.v3+json"}
}).then((repo) => {
  console.log('Successfully fetched project data from GitHub API');
  displayProjectInfo(repo.data, true);
}).catch((err) => {
  console.log('GitHub API error for project data, using fallback:', err.response?.status);
  displayProjectInfo(fallbackProjectData, false);
});

// Try to fetch README from GitHub API, fallback to static data
axios({
  method: "get",
  url: "https://api.github.com/repos/riccardovacirca/grapheme/readme",
  headers: {"Accept": "application/vnd.github.v3+json"}
}).then((readme) => {
  console.log('Successfully fetched README from GitHub API');
  const content = atob(readme.data.content);
  document.getElementById('readme-text').innerHTML = `<pre><code>${content}</code></pre>`;
}).catch((err) => {
  console.log('GitHub API error for README, using fallback:', err.response?.status);
  document.getElementById('readme-text').innerHTML = `<small class="text-muted">Using cached README due to API limits</small><br><br><pre><code>${fallbackReadmeContent}</code></pre>`;
});

// Try to fetch commits from GitHub API, fallback to static data
axios({
  method: "get",
  url: "https://api.github.com/repos/riccardovacirca/grapheme/commits?per_page=5",
  headers: {"Accept": "application/vnd.github.v3+json"}
}).then((commits) => {
  console.log('Successfully fetched commits from GitHub API');
  let commitsHtml = '<ul class="list-unstyled">';
  commits.data.forEach(commit => {
    commitsHtml += `
      <li class="mb-2">
        <strong>${commit.commit.message}</strong><br>
        <small class="text-muted">
          by ${commit.commit.author.name} on ${new Date(commit.commit.author.date).toLocaleDateString()}
        </small>
      </li>
    `;
  });
  commitsHtml += '</ul>';
  document.getElementById('commits-list').innerHTML = commitsHtml;
}).catch((err) => {
  console.log('GitHub API error for commits, using fallback:', err.response?.status);
  let commitsHtml = '<small class="text-muted">Using cached commits due to API limits</small><br><br><ul class="list-unstyled">';
  fallbackCommitsData.forEach(commit => {
    commitsHtml += `
      <li class="mb-2">
        <strong>${commit.commit.message}</strong><br>
        <small class="text-muted">
          by ${commit.commit.author.name} on ${new Date(commit.commit.author.date).toLocaleDateString()}
        </small>
      </li>
    `;
  });
  commitsHtml += '</ul>';
  document.getElementById('commits-list').innerHTML = commitsHtml;
});

// Try to fetch contributors from GitHub API, fallback to static data
axios({
  method: "get",
  url: "https://api.github.com/repos/riccardovacirca/grapheme/contributors",
  headers: {"Accept": "application/vnd.github.v3+json"}
}).then((contributors) => {
  console.log('Successfully fetched contributors from GitHub API');
  let contributorsHtml = '<div class="row">';
  contributors.data.forEach(contributor => {
    contributorsHtml += `
      <div class="col-md-6 mb-2">
        <img src="${contributor.avatar_url}" width="30" height="30" class="rounded-circle mr-2">
        <a href="${contributor.html_url}" target="_blank">${contributor.login}</a>
        <small class="text-muted">(${contributor.contributions} contributions)</small>
      </div>
    `;
  });
  contributorsHtml += '</div>';
  document.getElementById('contributors-list').innerHTML = contributorsHtml;
}).catch((err) => {
  console.log('GitHub API error for contributors, using fallback:', err.response?.status);
  let contributorsHtml = '<small class="text-muted">Using cached contributors due to API limits</small><br><br><div class="row">';
  fallbackContributorsData.forEach(contributor => {
    contributorsHtml += `
      <div class="col-md-6 mb-2">
        <img src="${contributor.avatar_url}" width="30" height="30" class="rounded-circle mr-2">
        <a href="${contributor.html_url}" target="_blank">${contributor.login}</a>
        <small class="text-muted">(${contributor.contributions} contributions)</small>
      </div>
    `;
  });
  contributorsHtml += '</div>';
  document.getElementById('contributors-list').innerHTML = contributorsHtml;
});

// Try to fetch user avatar from GitHub API, fallback to static data
axios({
  method: "get",
  url: "https://api.github.com/users/riccardovacirca",
  headers: {"Accept": "application/vnd.github.v3+json"}
}).then((user) => {
  console.log('Successfully fetched user data from GitHub API');
  const avatarImg = document.getElementById('user-avatar');
  avatarImg.src = user.data.avatar_url;
  avatarImg.style.display = 'block';
}).catch((err) => {
  console.log('GitHub API error for user data, using fallback:', err.response?.status);
  const avatarImg = document.getElementById('user-avatar');
  avatarImg.src = "https://avatars.githubusercontent.com/u/3167550?v=4";
  avatarImg.style.display = 'block';
});
</script>
</body>
</html>