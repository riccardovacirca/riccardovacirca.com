<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="Riccardo Vacirca">
  <title>Riccardo Vacirca - APRX - APR eXtension</title>
  <!-- -->
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/themes/prism.min.css" rel="stylesheet">
  <!-- -->
  <style>
  body {
    margin: 0;
    border-top: 4px solid #17a2b8;
    position: relative;
    font-size:14px;
  }
  .logo {
    color: #777
  }
  .title {
    color: #444;
  }
  .sub-title{
    color: #17a2b8;
  }
  main, footer {
    margin: 0 auto;
    max-width: 770px;
  }
  #main {
    padding-top: 30px;
  }
  .font-anton {
    font-family:'Anton', sans-serif;
  }
  #db-diagram {
    max-width: 678px;
    max-height: 391px;
    width: 100%;
  }
  .card-body {
    padding: 5px;
  }
  td {
    vertical-align: top;
  }
  .no-bullet {
    list-style: none;
  }
  p {
    font-size: 16px;
  }
  h4 {
    font-weight: bold;
  }
  .header p {
    font-size: 12px;
  }
  .lang {
    font-size: 16px;
    font-weight: bold;
    font-family: Arial, Helvetica, sans-serif;
    color: darkorange;
  }
  </style>
</head>
<body><main><div id="main" class="container">
<!-- ----------------------------------------------------------------------- -->
<h1 class="display-5 font-anton logo mb-5">
  APRX - APR eXtension
  <div class="lang">italiano</div>
</h1>
<!-- ----------------------------------------------------------------------- -->
<a name="aprx_index"></a>
<h4 class="display-5 logo">Indice delle funzioni</h4>
<div class="contents">
  <ul class="no-bullet">
    <li><a name="aprx_random" href="#aprx_random">aprx_random</a></li>
    <li><a name="aprx_is_empty" href="#aprx_is_empty">aprx_is_empty</a></li>
  </ul>
</div>
<!-- ----------------------------------------------------------------------- -->
<a name="Top"></a>
<!-- ----------------------------------------------------------------------- -->
<hr class="mt-5">
<a name="aprx_random"></a>
<div class="header">
  <p>
    Next: <a href="#aprx_is_empty" accesskey="n" rel="next">aprx_is_empty</a>,
    Previous: <a href="#Top" accesskey="p" rel="prev">Top</a>,
    Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp;
    [<a href="#aprx_index" title="Indice delle funzioni" rel="contents">Contents</a>]
    [<a href="/" title="Home" rel="index">Home</a>]
  </p>
</div>
<h4 class="chapter mb-3">aprx_random</h4>
<pre><code class="language-c">
int aprx_rand(int l, int h) {
  srand(time(NULL));
  return l < h ? (rand() % (h - l + 1)) + l : 0;
}
</code></pre>
<!-- ----------------------------------------------------------------------- -->
<hr class="mt-5">
<a name="aprx_is_empty"></a>
<div class="header">
  <p>
    Next: <a href="#" accesskey="n" rel="next"></a>,
    Previous: <a href="#aprx_random" accesskey="p" rel="prev">aprx_random</a>,
    Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp;
    [<a href="#aprx_index" title="Indice delle funzioni" rel="contents">Contents</a>]
    [<a href="/" title="Home" rel="index">Home</a>]
  </p>
</div>
<h4 class="chapter mb-3">aprx_is_empty</h4>
<pre><code class="language-c">
int aprx_isempty(const char *s) {
  int rv = 1;
  if (s && (*s != '\0')) {
    apr_size_t l = strlen(s);
    for (apr_size_t i = 0; i < l; i ++) {
      // La stringa non è vuota se contiene almeno un carattere non vuoto
      if (!apr_isspace(s[i])) {
        rv = 0;
        break;
      }
    }
  }
  return rv;
}
</code></pre>
<!-- ----------------------------------------------------------------------- -->
<hr class="mt-5">
<a name="Operazioni"></a>
<div class="header">
  <p>
    Next: <a href="#Controller" accesskey="n" rel="next">Funzioni della logica applicativa</a>,
    Previous: <a href="#Organizzazione-di-un-progetto" accesskey="p" rel="prev">Organizzazione di un progetto</a>,
    Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp;
    [<a href="#APRX_Contents" title="Indice dei contenuti" rel="contents">Contents</a>]
    [<a href="/" title="Home" rel="index">Home</a>]
  </p>
</div>
<h4 class="chapter mb-3">Operazioni</h4>
<p>Le operazioni sono funzionalità atomiche dell'applicazione e svolgono attività
  di base come la lettura/scrittura su database o su file. Il codice contiene solo la
  logica essenziale per il compito da eseguire. Di seguito è mostrato un esempio:
</p>
<p>
  Come si vede è esclusa qualsiasi attività non riconducibile alla specifica operazione
  da eseguire, compresa la validazione dell'input e il controllo dell'errore.
</p>
<!-- ----------------------------------------------------------------------- -->
<hr class="mt-5">
<a name="Controller"></a>
<div class="header">
  <p>
    Next: <a href="#Moduli" accesskey="n" rel="next">Moduli</a>,
    Previous: <a href="#Operazioni" accesskey="p" rel="prev">Operazioni</a>,
    Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp;
    [<a href="#APRX_Contents" title="Indice dei contenuti" rel="contents">Contents</a>]
    [<a href="/" title="Home" rel="index">Home</a>]
  </p>
</div>
<h4 class="chapter mb-3">Controller</h4>
<p>I controller contengono la logica applicativa 
</p>
<pre><code class="language-c">int main(int argv, char **argv) {

  // Inizializzazione del valore di ritorno
  int result = 0;

  // Inizializzazione dello stato
  struct {
    int input, init, pool;
  } st = {0, 0, 0};

  // Validazione dell'input
  st.input = (argv >= 2) && (strcmp(argv[1], "test") == 0);

  if (st.input) {
    st.init = apr_initialize() == APR_SUCCESS;
  }
  
  apr_pool_t *mp;
  if (st.init) {
    st.pool = apr_pool_create(&mp, NULL) == APR_SUCCESS;
  }

  if (st.pool) {
    result = 1;
  }

  st.error = result != 1

  if (st.error) {
    if (!st.init) {
      printf("Errore di inizializzazione.\n");
    } else if (!st.pool) {
      printf("Errore di allocazione del pool di memoria.\n");
    } else {
      printf("Errore generico.\n");
    }
  }

  if (st.pool) {
    apr_pool_destroy(mp);
  }

  if (st.init) {
    apr_terminate();
  }

  exit(EXIT_SUCCESS);
}
</code></pre>



</div>
</main>
<footer><div class="container">
<!----------------------------------------------------------------------------->
<hr class="mt-5">
<p class="mb-3 text-muted">
    &copy; 2020-2023 Riccardo Vacirca
    <a href="https://www.linkedin.com/in/riccardovacirca"><i class="fa fa-linkedin-square"></i></a>
    <a href="https://github.com/riccardovacirca"><i class="fa fa-git-square"></i></a><br>
    <small>All right reserved</small>
</p>
<!----------------------------------------------------------------------------->
</div></footer>
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/components/prism-c.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.20.0/axios.min.js" integrity="sha512-quHCp3WbBNkwLfYUMd+KwBAgpVukJu5MncuQaWXgCrfgcxCJAq/fo+oqrRKOj+UKEmyMCG3tb8RB63W+EmrOBg==" crossorigin="anonymous"></script>
<script>/** SQL highlighter for PrismJS <http://prismjs.com/> * @author Petros Kyladitis */ Prism.languages.sql={comment:{pattern:/(^|[^\\])(\/\*[\w\W]*?\*\/|((--)|(\/\/)).*?(\r?\n|$))/g,lookbehind:!0},string: /("|')(\\?.)*?\1/g,keyword:/\b(ACTION|ADD|AFTER|ALGORITHM|ALTER|ANALYZE|APPLY|AS|AS|ASC|AUTHORIZATION|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADE|CASCADED|CASE|CHAIN|CHAR VARYING|CHARACTER VARYING|CHECK|CHECKPOINT|CLOSE|CLUSTERED|COALESCE|COLUMN|COLUMNS|COMMENT|COMMIT|COMMITTED|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS|CONTAINSTABLE|CONTINUE|CONVERT|CREATE|CROSS|CURRENT|CURRENT_DATE|CURRENT_TIME|CURRENT_TIMESTAMP|CURRENT_USER|CURSOR|DATA|DATABASE|DATABASES|DATETIME|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DOUBLE PRECISION|DROP|DUMMY|DUMP|DUMPFILE|DUPLICATE KEY|ELSE|ENABLE|ENCLOSED BY|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPE|ESCAPED BY|EXCEPT|EXEC|EXECUTE|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR|FOR EACH ROW|FORCE|FOREIGN|FREETEXT|FREETEXTTABLE|FROM|FULL|FUNCTION|GEOMETRY|GEOMETRYCOLLECTION|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|IDENTITY|IDENTITY_INSERT|IDENTITYCOL|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTO|INVOKER|ISOLATION LEVEL|JOIN|KEY|KEYS|KILL|LANGUAGE SQL|LAST|LEFT|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONGBLOB|LONGTEXT|MATCH|MATCHED|MEDIUMBLOB|MEDIUMINT|MEDIUMTEXT|MERGE|MIDDLEINT|MODIFIES SQL DATA|MODIFY|MULTILINESTRING|MULTIPOINT|MULTIPOLYGON|NATIONAL|NATIONAL CHAR VARYING|NATIONAL CHARACTER|NATIONAL CHARACTER VARYING|NATIONAL VARCHAR|NATURAL|NCHAR|NCHAR VARCHAR|NEXT|NO|NO SQL|NOCHECK|NOCYCLE|NONCLUSTERED|NULLIF|NUMERIC|OF|OFF|OFFSETS|ON|OPEN|OPENDATASOURCE|OPENQUERY|OPENROWSET|OPTIMIZE|OPTION|OPTIONALLY|ORDER|OUT|OUTER|OUTFILE|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREV|PRIMARY|PRINT|PRIVILEGES|PROC|PROCEDURE|PUBLIC|PURGE|QUICK|RAISERROR|READ|READS SQL DATA|READTEXT|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEATABLE|REPLICATION|REQUIRE|RESTORE|RESTRICT|RETURN|RETURNS|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROWCOUNT|ROWGUIDCOL|ROWS?|RTREE|RULE|SAVE|SAVEPOINT|SCHEMA|SELECT|SERIAL|SERIALIZABLE|SESSION|SESSION_USER|SET|SETUSER|SHARE MODE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|START|STARTING BY|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLE|TABLES|TABLESPACE|TEMPORARY|TEMPTABLE|TERMINATED BY|TEXT|TEXTSIZE|THEN|TIMESTAMP|TINYBLOB|TINYINT|TINYTEXT|TO|TOP|TRAN|TRANSACTION|TRANSACTIONS|TRIGGER|TRUNCATE|TSEQUAL|TYPE|TYPES|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNPIVOT|UPDATE|UPDATETEXT|USAGE|USE|USER|USING|VALUE|VALUES|VARBINARY|VARCHAR|VARCHARACTER|VARYING|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH|WITH ROLLUP|WITHIN|WORK|WRITE|WRITETEXT)\b/gi,boolean:/\b(TRUE|FALSE|NULL)\b/gi,number:/\b-?(0x)?\d*\.?[\da-f]+\b/g,operator:/\b(ALL|AND|ANY|BETWEEN|EXISTS|IN|LIKE|NOT|OR|IS|UNIQUE|CHARACTER SET|COLLATE|DIV|OFFSET|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b|[-+]{1}|!|=?&lt;|=?&gt;|={1}|(&amp;){1,2}|\|?\||\?|\*|\//gi,ignore:/&(lt|gt|amp);/gi,punctuation:/[;[\]()`,.]/g};</script>
<script>/*$('#toast-1').toast('show');$('#toast-2').toast('show');*/</script>
</html>
